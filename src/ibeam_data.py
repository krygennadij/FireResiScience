
# Данные из таблицы ГОСТ/СТО для двутавров (с параллельными гранями или обычных)
# Размеры в мм, Характеристики в см (как в таблице)

# h - высота, b - ширина полки, s - толщина стенки, t - средняя толщина полки
# A - площадь (см2), I - инерция (см4), W - момент сопротивления (см3), S - стат. момент (см3), i - радиус инерции (см)

IBEAM_DATA = {
    "10": {"h": 100, "b": 55,  "s": 4.5, "t": 7.2,  "A": 12.0,  "Ix": 198,   "Wx": 39.7,   "ix": 4.06,  "Sx": 23.0,  "Iy": 17.9,   "Wy": 6.49,   "iy": 1.22},
    "12": {"h": 120, "b": 64,  "s": 4.8, "t": 7.3,  "A": 14.7,  "Ix": 350,   "Wx": 58.4,   "ix": 4.88,  "Sx": 33.7,  "Iy": 27.9,   "Wy": 8.72,   "iy": 1.38},
    "14": {"h": 140, "b": 73,  "s": 4.9, "t": 7.5,  "A": 17.4,  "Ix": 572,   "Wx": 81.7,   "ix": 5.73,  "Sx": 46.8,  "Iy": 41.9,   "Wy": 11.50,  "iy": 1.55},
    "16": {"h": 160, "b": 81,  "s": 5.0, "t": 7.8,  "A": 20.2,  "Ix": 873,   "Wx": 109.0,  "ix": 6.57,  "Sx": 62.3,  "Iy": 58.6,   "Wy": 14.50,  "iy": 1.70},
    "18": {"h": 180, "b": 90,  "s": 5.1, "t": 8.1,  "A": 23.4,  "Ix": 1290,  "Wx": 143.0,  "ix": 7.42,  "Sx": 81.4,  "Iy": 82.6,   "Wy": 18.40,  "iy": 1.88},
    "20": {"h": 200, "b": 100, "s": 5.2, "t": 8.4,  "A": 26.8,  "Ix": 1840,  "Wx": 184.0,  "ix": 8.28,  "Sx": 104.0, "Iy": 115.0,  "Wy": 23.10,  "iy": 2.07},
    "22": {"h": 220, "b": 110, "s": 5.4, "t": 8.7,  "A": 30.6,  "Ix": 2550,  "Wx": 232.0,  "ix": 9.13,  "Sx": 131.0, "Iy": 157.0,  "Wy": 28.60,  "iy": 2.27},
    "24": {"h": 240, "b": 115, "s": 5.6, "t": 9.5,  "A": 34.8,  "Ix": 3460,  "Wx": 289.0,  "ix": 9.97,  "Sx": 163.0, "Iy": 198.0,  "Wy": 34.50,  "iy": 2.37},
    "27": {"h": 270, "b": 125, "s": 6.0, "t": 9.8,  "A": 40.2,  "Ix": 5010,  "Wx": 371.0,  "ix": 11.20, "Sx": 210.0, "Iy": 260.0,  "Wy": 41.50,  "iy": 2.54},
    "30": {"h": 300, "b": 135, "s": 6.5, "t": 10.2, "A": 46.5,  "Ix": 7080,  "Wx": 472.0,  "ix": 12.30, "Sx": 268.0, "Iy": 337.0,  "Wy": 49.90,  "iy": 2.69},
    "33": {"h": 330, "b": 140, "s": 7.0, "t": 11.2, "A": 53.8,  "Ix": 9840,  "Wx": 597.0,  "ix": 13.50, "Sx": 339.0, "Iy": 419.0,  "Wy": 59.90,  "iy": 2.79},
    "36": {"h": 360, "b": 145, "s": 7.5, "t": 12.3, "A": 61.9,  "Ix": 13380, "Wx": 743.0,  "ix": 14.70, "Sx": 423.0, "Iy": 516.0,  "Wy": 71.10,  "iy": 2.89},
    "40": {"h": 400, "b": 155, "s": 8.3, "t": 13.0, "A": 72.6,  "Ix": 19062, "Wx": 953.0,  "ix": 16.20, "Sx": 545.0, "Iy": 667.0,  "Wy": 86.10,  "iy": 3.03},
    "45": {"h": 450, "b": 160, "s": 9.0, "t": 14.2, "A": 84.7,  "Ix": 27696, "Wx": 1231.0, "ix": 18.10, "Sx": 708.0, "Iy": 808.0,  "Wy": 101.00, "iy": 3.09},
    "50": {"h": 500, "b": 170, "s": 10.0, "t": 15.2, "A": 100.0, "Ix": 39727, "Wx": 1589.0, "ix": 19.90, "Sx": 919.0, "Iy": 1043.0, "Wy": 123.00, "iy": 3.23},
    "55": {"h": 550, "b": 180, "s": 11.0, "t": 16.5, "A": 118.0, "Ix": 55962, "Wx": 2035.0, "ix": 21.80, "Sx": 1181.0, "Iy": 1356.0, "Wy": 151.00, "iy": 3.39},
    "60": {"h": 600, "b": 190, "s": 12.0, "t": 17.8, "A": 138.0, "Ix": 76806, "Wx": 2560.0, "ix": 23.60, "Sx": 1491.0, "Iy": 1725.0, "Wy": 182.00, "iy": 3.54}
}

def get_ibeam_props_mm(number: str):
    """
    Возвращает свойства профиля, конвертированные в единицы, 
    совместимые с приложением (размеры в мм, характеристики в мм^2, мм^3, мм^4).
    """
    data = IBEAM_DATA.get(number)
    if not data:
        return None
    
    # Cm -> mm conversion factors
    # A (cm2) -> mm2 (* 100)
    # I (cm4) -> mm4 (* 10000)
    # W, S (cm3) -> mm3 (* 1000)
    # i (cm) -> mm (* 10)
    
    props = {
        "h": data["h"],         # mm
        "b": data["b"],         # mm
        "tw": data["s"],        # mm (s)
        "tf": data["t"],        # mm (t)
        
        "A": data["A"] * 100.0,
        
        "Ix": data["Ix"] * 10000.0,
        "Iy": data["Iy"] * 10000.0,
        
        "Wx": data["Wx"] * 1000.0,
        "Sx": data["Sx"] * 1000.0,
        
        "ix": data["ix"] * 10.0,
        "iy": data["iy"] * 10.0,
        
        # Derived for C1 calc
        "Af": data["b"] * data["t"], # Approx flange area
        "Aw": (data["h"] - 2*data["t"]) * data["s"], # Approx web area
        
        "type": "ibeam_std"
    }
    return props
