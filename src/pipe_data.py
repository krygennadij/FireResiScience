
# GOST 8732-78 Circular Pipes (Seamless Hot-Deformed)
# Keys: "DxT" string e.g. "108x4"
# Values: {'d': mm, 't': mm, 'A': cm2, 'i': cm}

PIPE_DATA = {
    # Image 1 (Part 1: 63.5 - 76)
    "63.5x3": {"d": 63.5, "t": 3.0, "A": 5.71, "i": 2.14},
    "63.5x3.2": {"d": 63.5, "t": 3.2, "A": 6.01, "i": 2.13},
    "63.5x3.5": {"d": 63.5, "t": 3.5, "A": 6.60, "i": 2.12},
    "63.5x3.8": {"d": 63.5, "t": 3.8, "A": 7.12, "i": 2.11},
    "63.5x4": {"d": 63.5, "t": 4.0, "A": 7.48, "i": 2.10},
    "63.5x4.5": {"d": 63.5, "t": 4.5, "A": 8.34, "i": 2.09},

    "70x3": {"d": 70, "t": 3, "A": 6.32, "i": 2.37},
    "70x3.2": {"d": 70, "t": 3.2, "A": 6.73, "i": 2.37},
    "70x3.5": {"d": 70, "t": 3.5, "A": 7.31, "i": 2.36},
    "70x3.8": {"d": 70, "t": 3.8, "A": 7.90, "i": 2.35},
    "70x4": {"d": 70, "t": 4, "A": 8.29, "i": 2.34},
    "70x4.5": {"d": 70, "t": 4.5, "A": 9.26, "i": 2.32},

    "73x3": {"d": 73, "t": 3, "A": 6.60, "i": 2.48},
    "73x3.2": {"d": 73, "t": 3.2, "A": 7.03, "i": 2.47},
    "73x3.5": {"d": 73, "t": 3.5, "A": 7.64, "i": 2.46},
    "73x3.8": {"d": 73, "t": 3.8, "A": 8.25, "i": 2.45},
    "73x4": {"d": 73, "t": 4, "A": 8.68, "i": 2.44},
    "73x4.5": {"d": 73, "t": 4.5, "A": 9.68, "i": 2.42},

    "76x3": {"d": 76, "t": 3, "A": 6.88, "i": 2.58},
    "76x3.2": {"d": 76, "t": 3.2, "A": 7.32, "i": 2.58},
    "76x3.5": {"d": 76, "t": 3.5, "A": 7.97, "i": 2.57},
    "76x3.8": {"d": 76, "t": 3.8, "A": 8.61, "i": 2.56},
    "76x4": {"d": 76, "t": 4, "A": 9.04, "i": 2.55},
    "76x4.5": {"d": 76, "t": 4.5, "A": 10.1, "i": 2.53},
    "76x5": {"d": 76, "t": 5, "A": 11.1, "i": 2.51},
    "76x5.5": {"d": 76, "t": 5.5, "A": 12.2, "i": 2.49},

    # 133, 140, 152, 159 (Partial, from Img 1 Right Col)
    "133x3": {"d": 133, "t": 3, "A": 12.3, "i": 4.60},
    "133x4": {"d": 133, "t": 4, "A": 16.2, "i": 4.57},
    "133x5": {"d": 133, "t": 5, "A": 20.1, "i": 4.53},
    "133x5.5": {"d": 133, "t": 5.5, "A": 22.0, "i": 4.51},
    
    "140x4": {"d": 140, "t": 4, "A": 17.1, "i": 4.82},
    "140x5": {"d": 140, "t": 5, "A": 21.2, "i": 4.78},
    
    "152x4": {"d": 152, "t": 4, "A": 18.6, "i": 5.24},
    "152x5": {"d": 152, "t": 5, "A": 23.1, "i": 5.20},
    
    "159x4": {"d": 159, "t": 4, "A": 19.5, "i": 5.48},
    "159x4.5": {"d": 159, "t": 4.5, "A": 21.8, "i": 5.47},
    "159x5": {"d": 159, "t": 5, "A": 24.2, "i": 5.45},
    "159x6": {"d": 159, "t": 6, "A": 28.8, "i": 5.42},
    "159x8": {"d": 159, "t": 8, "A": 38.3, "i": 5.35},

    # Image 2 (83, 89, 95, 102, 108)
    "83x3": {"d": 83, "t": 3, "A": 7.54, "i": 2.84},
    "83x4": {"d": 83, "t": 4, "A": 9.92, "i": 2.80},
    "83x5": {"d": 83, "t": 5, "A": 12.3, "i": 2.76},
    
    "89x3": {"d": 89, "t": 3, "A": 8.1, "i": 3.04},
    "89x4": {"d": 89, "t": 4, "A": 10.7, "i": 3.01},
    "89x5": {"d": 89, "t": 5, "A": 13.2, "i": 2.97},

    "102x3": {"d": 102, "t": 3, "A": 9.32, "i": 3.50},
    "102x4": {"d": 102, "t": 4, "A": 12.3, "i": 3.47},
    "102x5": {"d": 102, "t": 5, "A": 15.2, "i": 3.44},

    "108x3": {"d": 108, "t": 3, "A": 9.9, "i": 3.72},
    "108x4": {"d": 108, "t": 4, "A": 13.1, "i": 3.68},
    "108x5": {"d": 108, "t": 5, "A": 16.2, "i": 3.65},
    
    # Image 3 (114, 121, 245, 273)
    "114x4": {"d": 114, "t": 4, "A": 13.8, "i": 3.89},
    "114x5": {"d": 114, "t": 5, "A": 17.1, "i": 3.86},
    
    "219x6": {"d": 219, "t": 6, "A": 40.2, "i": 7.54},
    "219x8": {"d": 219, "t": 8, "A": 53.0, "i": 7.47},

    "273x6": {"d": 273, "t": 6, "A": 50.3, "i": 9.45},
    "273x8": {"d": 273, "t": 8, "A": 66.6, "i": 9.38}
}

import math

def get_pipe_props_mm(name):
    if name not in PIPE_DATA:
        return {}
    
    start_props = PIPE_DATA[name]
    
    # Convert to mm-based
    # A from cm2 to mm2 (*100)
    # i from cm to mm (*10)
    # d, t are already mm
    
    props = {
        "A": start_props["A"] * 100.0,
        "d": start_props["d"],
        "t": start_props["t"],
        "ix": start_props["i"] * 10.0,
        "iy": start_props["i"] * 10.0, # Symmetric
        # Calculate W roughly for display if needed? 
        # W approx = 2 * I / d. I = A * i^2.
        # W = 2 * (A*i^2) / d
    }
    
    # Inertia
    # I = A * i^2
    # i in mm, A in mm2 -> I in mm4
    I_val = props["A"] * (props["ix"]**2)
    props["Ix"] = I_val
    props["Iy"] = I_val
    
    return props
